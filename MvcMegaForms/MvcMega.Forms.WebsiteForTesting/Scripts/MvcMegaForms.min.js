var MegaFormsChangeVisuallyJQueryParentContainerSelector,MegaFormsChangeVisuallyJQueryHideEffect,MegaFormsChangeVisuallyJQueryShowEffect,MegaFormsCascadeJQueryHideEffect,MegaFormsCascadeJQueryShowEffect,MegaFormsDetectAllFormChanges,MegaFormsDetectChangesWarningMessage,MegaFormsDetectChangesFormClass,MegaFormsIgnoreDetectChangesClass,MegaFormsDisabledOrReadonlyCssClass,MvcMegaForms=MvcMegaForms||{},MvcMegaFormsLeavingPageDueToSubmitOrIgnore=!1,DateJs;$(document).ready(function(){"use strict";MvcMegaForms.AttachEvents(),MvcMegaForms.ConfigureDetectChanges()}),$(window).bind("beforeunload",function(){"use strict";if(!MvcMegaFormsLeavingPageDueToSubmitOrIgnore){var t="form",i=!0,n="";if((MvcMegaForms.IsNullOrUndefined(MegaFormsDetectAllFormChanges)||MegaFormsDetectAllFormChanges===!1)&&((MvcMegaForms.IsNullOrUndefined(MegaFormsDetectChangesFormClass)||MegaFormsDetectChangesFormClass==="")&&(i=!1),t+="."+MegaFormsDetectChangesFormClass),i&&($(t).each(function(){n=MvcMegaForms.AlertFormChanged($(this)),n!==""}),n!==""))return n}}),MvcMegaForms.ConfigureDetectChanges=function(){"use strict";var n="form";if(MvcMegaForms.IsNullOrUndefined(MegaFormsDetectAllFormChanges)||MegaFormsDetectAllFormChanges===!1){if(MvcMegaForms.IsNullOrUndefined(MegaFormsDetectChangesFormClass)||MegaFormsDetectChangesFormClass==="")return;n+="."+MegaFormsDetectChangesFormClass}$(n).each(function(){var n=$(this);n.find("input:submit").each(function(){var n=$(this);n.click(function(){MvcMegaFormsLeavingPageDueToSubmitOrIgnore=!0})}),n.find("select").each(function(){var n=$(this),t,i;MvcMegaForms.IsNullOrUndefined(n.attr("multiple"))&&n.find("option").length>0&&(t=!1,n.find("option").each(function(){if(this.defaultSelected){t=!0;return}}),t||(i=n.find("option:first-child"),i.attr("selected",!0),i.attr("defaultSelected",!0)))})}),MvcMegaForms.IsNullOrUndefined(MegaFormsIgnoreDetectChangesClass)||$("."+MegaFormsIgnoreDetectChangesClass).each(function(){var n=$(this);n.click(function(){MvcMegaFormsLeavingPageDueToSubmitOrIgnore=!0})})},MvcMegaForms.AttachEvents=function(){"use strict";$(":input").each(function(){var f,h,t,c,l,a,v,y,i,r,n,e,o,s,u;if(f=$(this).attr("data-val-changevisually-to"),!MvcMegaForms.IsNullOrUndefined(f))for(h=f.split("~"),t=$(this).attr("data-val-changevisually-otherpropertyname").split("~"),c=$(this).attr("data-val-changevisually-ifoperator").split("~"),l=$(this).attr("data-val-changevisually-value").split("~"),a=$(this).attr("data-val-changevisually-conditionpassesifnull").split("~"),v=$(this).attr("data-val-changevisually-valuetypetocompare").split("~"),y=$(this).attr("data-val-changevisually-valueformat").split("~"),i=$(this),r=$.unique(t.slice()),n=0;n<r.length;n+=1)e=i.attr("name").substr(0,i.attr("name").lastIndexOf(".")+1)+r[n],o=$("[name='"+e+"']"),o.change({otherPropertyOuterInitialName:r[n],otherPropertyFullName:e},function(n){for(var u,r=0;r<t.length;r++)if(t[r]===n.data.otherPropertyOuterInitialName&&(u=$("[name='"+n.data.otherPropertyFullName+"']"),MvcMegaForms.ApplyChangeVisually(i,u,h[r],c[r],l[r],a[r],v[r],y[r])))break}),o.change();s=$(this).attr("parentListId"),MvcMegaForms.IsNullOrUndefined(s)||(u=$("[name='"+$(this).attr("name").substr(0,$(this).attr("name").lastIndexOf(".")+1)+s+"']"),u.attr("childid",$(this).attr("id")),u.change(function(){MvcMegaForms.SetupCascadingDropDown($(this))}),u.change())})},MvcMegaForms.ApplyChangeVisually=function(n,t,i,r,u,f,e,o){"use strict";var a=MvcMegaForms.IsNullOrUndefined(MegaFormsChangeVisuallyJQueryParentContainerSelector)?".editor-field":MegaFormsChangeVisuallyJQueryParentContainerSelector,s=n.parents(a),c,v,h,y,l;if(MvcMegaForms.IsNullOrUndefined(s))throw"MvcMegaForms-ChangeVisually Critical Error: Unable to find parent container with selector: "+a+" for property "+n;else return c=MvcMegaForms.IsNullOrUndefined(MegaFormsChangeVisuallyJQueryShowEffect)?"fast":MegaFormsChangeVisuallyJQueryShowEffect,v=MvcMegaForms.IsNullOrUndefined(MegaFormsChangeVisuallyJQueryHideEffect)?"fast":MegaFormsChangeVisuallyJQueryHideEffect,h=MvcMegaForms.IsNullOrUndefined(MegaFormsDisabledOrReadonlyCssClass)?"ui-state-disabled":MegaFormsDisabledOrReadonlyCssClass,y=MvcMegaForms.GetFormValue(t),l=MvcMegaForms.ConditionMetForChangeVisually(r,u,y,f,e,o),l?i==="hidden"?(s.hide(v),n.removeAttr("disabled"),n.removeAttr("readonly"),n.removeClass(h)):i==="disabled"?(s.show(c),n.removeAttr("readonly"),n.attr("disabled","disabled"),n.addClass(h)):i==="readonly"&&(s.show(c),n.removeAttr("disabled"),n.attr("readonly","readonly"),n.addClass(h)):(s.show(c),n.removeAttr("disabled"),n.removeAttr("readonly"),n.removeClass(h)),l},MvcMegaForms.ConditionMetForChangeVisually=function(n,t,i,r,u,f){"use strict";if(MvcMegaForms.IsNullOrUndefined(n))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: ifOperator was not supplied";var e=!1,c,o,s,h,l,a;if(r=!MvcMegaForms.IsNullOrUndefined(r)&&r.toString().toLowerCase()==="true",(i===""||MvcMegaForms.IsNullOrUndefined(i))&&(i=null),(t===""||MvcMegaForms.IsNullOrUndefined(t))&&(t=null),c=MvcMegaForms.IsArray(i),c&&i.length<=0&&(i=null),t!=null&&t.toString().lastIndexOf("[",0)===0&&(t=$.parseJSON(t.toString())),MvcMegaForms.IsArray(t))switch(u){case"number":if(isNaN(t))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but expectedValue was not a number: "+t;if(c)for(o=0;o<i.length;o+=1){if(isNaN(i[o]))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but an item in the actualValue array was not a number: "+i[o];i[o]=parseFloat(i[o].toString())}else{if(isNaN(i))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but actualValue was not a number: "+i;i=parseFloat(i.toString())}t=parseFloat(t.toString());switch(n){case"equals":for(s=0;s<t.length;s+=1)if(l=t[s],l===i){e=!0;break}break;case"notequals":for(e=!0,h=0;h<t.length;h+=1)if(a=t[h],a===i){e=!1;break}break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied when expectedValue was an array: "+n;}case"datetime":if(!DateJs.Helper.isValid(t,f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but expectedValue does not fit the specified date format: "+t+" was not a valid DateTime in the specified format: "+f;if(c)for(o=0;o<i.length;o+=1){if(!DateJs.Helper.isValid(i[o],f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but an item in the actualValue array '"+i[o]+"' was not a valid DateTime in the specified format: "+f;i[o]=DateJs.Helper.parseString(i[o].toString(),f)}else{if(!DateJs.Helper.isValid(i,f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but actualValue: "+i+" was not a valid DateTime in the specified format: "+f;i=DateJs.Helper.parseString(i.toString(),f)}t=DateJs.Helper.parseString(t.toString(),f);switch(n){case"equals":for(s=0;s<t.length;s+=1)if(l=t[s],new DateJs.Helper(l).equals(i)){e=!0;break}break;case"notequals":for(e=!0,h=0;h<t.length;h+=1)if(a=t[h],new DateJs.Helper(a).equals(i)){e=!1;break}break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied when expectedValue was an array: "+n;}default:c||(i=i.toString().toLowerCase()),t=t.toString().toLowerCase();switch(n){case"equals":for(s=0;s<t.length;s+=1)if(l=t[s].toString().toLowerCase(),l===i){e=!0;break}break;case"notequals":for(e=!0,h=0;h<t.length;h+=1)if(a=t[h].toString().toLowerCase(),a===i){e=!1;break}break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied when expectedValue was an array: "+n;}}else if(i===null&&t!==null)e=r;else if(i!==null&&t===null)switch(n){case"equals":e=!1;break;case"notequals":e=!0;break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: When checking for a null expectedValue, DisplayChangeIf must be Equals or NotEquals, supplied ifOperator was "+n;}else if(i===null&&t===null)e=r;else{if(c&&n!=="contains"&&n!=="notcontains")throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: When actualValue is an array (E.g. value of a multi-select), DisplayChangeIf must be Contains or NotContains, supplied ifOperator was "+n;t=t.toString().toLowerCase();switch(u){case"number":if(isNaN(t))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but expectedValue was not a number: "+t;if(c)for(o=0;o<i.length;o+=1){if(isNaN(i[o]))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but an item in the actualValue array was not a number: "+i[o];i[o]=parseFloat(i[o].toString())}else{if(isNaN(i))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'number', but actualValue was not a number: "+i;i=parseFloat(i.toString())}t=parseFloat(t.toString());switch(n){case"equals":e=i===t;break;case"notequals":e=i!==t;break;case"greaterthan":e=i>t;break;case"greaterthanorequals":e=i>=t;break;case"lessthan":e=i<t;break;case"lessthanorequals":e=i<=t;break;case"contains":if(c){for(s=0;s<i.length;s+=1)if(l=i[s],l===t){e=!0;break}}else e=i===t;break;case"notcontains":if(c){for(e=!0,h=0;h<i.length;h+=1)if(a=i[h],a===t){e=!1;break}}else e=i!==t;break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied "+n;}break;case"datetime":if(!DateJs.Helper.isValid(t,f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but expectedValue does not fit the specified date format: "+t+" was not a valid DateTime in the specified format: "+f;if(c)for(o=0;o<i.length;o+=1){if(!DateJs.Helper.isValid(i[o],f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but an item in the actualValue array '"+i[o]+"' was not a valid DateTime in the specified format: "+f;i[o]=DateJs.Helper.parseString(i[o].toString(),f)}else{if(!DateJs.Helper.isValid(i,f))throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: valueTypeToCompare was 'datetime', but actualValue: "+i+" was not a valid DateTime in the specified format: "+f;i=DateJs.Helper.parseString(i.toString(),f)}t=DateJs.Helper.parseString(t.toString(),f);switch(n){case"equals":e=new DateJs.Helper(i).equals(t);break;case"notequals":e=!new DateJs.Helper(i).equals(t);break;case"greaterthan":e=new DateJs.Helper(i).isAfter(t);break;case"greaterthanorequals":e=new DateJs.Helper(i).equals(t)||new DateJs.Helper(i).isAfter(t);break;case"lessthan":e=new DateJs.Helper(i).isBefore(t);break;case"lessthanorequals":e=new DateJs.Helper(i).equals(t)||new DateJs.Helper(i).isBefore(t);break;case"contains":if(c){for(s=0;s<i.length;s+=1)if(l=i[s],new DateJs.Helper(l).equals(t)){e=!0;break}}else e=new DateJs.Helper(i).equals(t);break;case"notcontains":if(c){for(e=!0,h=0;h<i.length;h+=1)if(a=i[h],new DateJs.Helper(a).equals(t)){e=!1;break}}else e=!new DateJs.Helper(i).equals(t);break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied "+n;}break;default:c||(i=i.toString().toLowerCase()),t=t.toString().toLowerCase();switch(n){case"equals":e=i===t;break;case"notequals":e=i!==t;break;case"greaterthan":e=i>t;break;case"greaterthanorequals":e=i>=t;break;case"lessthan":e=i<t;break;case"lessthanorequals":e=i<=t;break;case"contains":for(s=0;s<i.length;s+=1)if(l=i[s].toString().toLowerCase(),l===t){e=!0;break}break;case"notcontains":for(e=!0,h=0;h<i.length;h+=1)if(a=i[h].toString().toLowerCase(),a===t){e=!1;break}break;default:throw"MvcMegaForms-ChangeVisually Critical Error in ConditionMetForChangeVisually: Unhandled ifOperator was supplied "+n;}}}return e},MvcMegaForms.CascadeStringStatus={StartParentId:0,StartChildId:1,EndChildId:2,EndChildValueWithNext:3,EndChildValue:4},MvcMegaForms.SetupCascadingDropDown=function(n){"use strict";var r,t,u,i,f,e;MvcMegaForms.CascadeDropDown(n),r=$(n).attr("childid"),t=$("#"+r),u=t.attr("childid"),MvcMegaForms.IsNullOrUndefined(u)?(i=t.attr("name").lastIndexOf("."),f=t.attr("name").substr((i<0?-1:i)+1),$(":input[data-val-changevisually-otherpropertyname]").each(function(){e=$(this).attr("data-val-changevisually-otherpropertyname").split("~"),$.inArray(f,e)&&t.change()})):t.change()},MvcMegaForms.CascadeDropDown=function(n){"use strict";var l,a,i,s,h,v,c,t,f,u,e,o,r,y;for(l=MvcMegaForms.GetFormValue($(n)),a=$(n).attr("childid"),i=$("#"+a),s=i.attr("combos"),h=i.is(":visible"),h&&(v=MvcMegaForms.IsNullOrUndefined(MegaFormsCascadeJQueryHideEffect)?"fast":MegaFormsCascadeJQueryHideEffect,i.hide(v)),c=MvcMegaForms.GetFormValue(i),i.val(null),i.empty(),t=MvcMegaForms.CascadeStringStatus.StartParentId,f="",u="",e="",o=0;o<s.length;o+=1)r=s.charAt(o),r==="{"?t=MvcMegaForms.CascadeStringStatus.StartChildId:r==="~"?t=MvcMegaForms.CascadeStringStatus.EndChildId:r===";"?t=MvcMegaForms.CascadeStringStatus.EndChildValueWithNext:r==="}"&&(t=MvcMegaForms.CascadeStringStatus.EndChildValue),t===MvcMegaForms.CascadeStringStatus.StartParentId?f+=r:t===MvcMegaForms.CascadeStringStatus.StartChildId?f===l?r!=="{"&&(u+=r):f="":t===MvcMegaForms.CascadeStringStatus.EndChildId?f!==""&&u!==""?r!=="~"&&(e+=r):(f="",u=""):t===MvcMegaForms.CascadeStringStatus.EndChildValueWithNext?(MvcMegaForms.RenderCascadedSelectOption(u,c,i,e),t=MvcMegaForms.CascadeStringStatus.StartChildId,u="",e=""):t===MvcMegaForms.CascadeStringStatus.EndChildValue&&(MvcMegaForms.RenderCascadedSelectOption(u,c,i,e),t=MvcMegaForms.CascadeStringStatus.StartParentId,f="",u="",e="");h&&(y=MvcMegaForms.IsNullOrUndefined(MegaFormsCascadeJQueryShowEffect)?"fast":MegaFormsCascadeJQueryShowEffect,i.show(y))},MvcMegaForms.RenderCascadedSelectOption=function(n,t,i,r){"use strict";var f=!1,u,e;if(n!==""){if(MvcMegaForms.IsArray(t)){for(u=0;u<t.length;u+=1)if(e=t[u],e.toString()===n.toString()){f=!0;break}}else f=n===t;f?i.append($('<option selected="selected"><\/option>').val(n).html(r)):i.append($("<option><\/option>").val(n).html(r))}},MvcMegaForms.GetFormValue=function(n){"use strict";if(MvcMegaForms.IsNullOrUndefined(n))throw"Undefined form control supplied";var t;return t=n instanceof jQuery?n:$(n),t.is(":checkbox")?t.is(":checked")?!0:!1:t.is(":radio")?$("input:radio[name='"+t.attr("name")+"']:checked").val():t.val()},MvcMegaForms.IsArray=function(n){"use strict";return Object.prototype.toString.call(n)==="[object Array]"},MvcMegaForms.FormControlValueHasChanged=function(n){"use strict";var t,r,f,i,u;if(t=$(n),t.is(":checkbox"))i=n.checked!==n.defaultChecked;else if(t.is(":radio"))i=n.checked!==n.defaultChecked;else if(t.is("select")&&!MvcMegaForms.IsNullOrUndefined(t.attr("multiple")))if(MvcMegaForms.IsNullOrUndefined(n.options)||n.options.length<=0)i=!1;else{for(r=!1,u=0;u<n.options.length;u+=1)f=n.options[u],r=r||f.selected!==f.defaultSelected;i=r}else i=t.is("select")?MvcMegaForms.IsNullOrUndefined(n.options)||n.options.length<=0?!1:!n.options[n.selectedIndex].defaultSelected:n.value!==n.defaultValue;return i},MvcMegaForms.FormFieldIdChanged=function(n){"use strict";var t=null;return n.find("input").each(function(){if(MvcMegaForms.FormControlValueHasChanged(this)){t=MvcMegaForms.IsNullOrUndefined(this.id)?MvcMegaForms.IsNullOrUndefined(this.name)?"[unknown]":this.name:this.id;return}}),n.find("textarea").each(function(){if(MvcMegaForms.FormControlValueHasChanged(this)){t=MvcMegaForms.IsNullOrUndefined(this.id)?MvcMegaForms.IsNullOrUndefined(this.name)?"[unknown]":this.name:this.id;return}}),MvcMegaForms.IsNullOrUndefined(t)&&n.find("select").each(function(){if(MvcMegaForms.FormControlValueHasChanged(this)){t=MvcMegaForms.IsNullOrUndefined(this.id)?MvcMegaForms.IsNullOrUndefined(this.name)?"[unknown]":this.name:this.id;return}}),t},MvcMegaForms.AlertFormChanged=function(n){"use strict";var t,i;return(t=MvcMegaForms.FormFieldIdChanged(n),!MvcMegaForms.IsNullOrUndefined(t))?(i="At least one unsaved value has changed ('"+t+"'), are you sure you want to leave the page?",MvcMegaForms.IsNullOrUndefined(MegaFormsDetectChangesWarningMessage)||MegaFormsDetectChangesWarningMessage===""||(i=MegaFormsDetectChangesWarningMessage),i):""},MvcMegaForms.IsNullOrUndefined=function(n){"use strict";return n==null||n===undefined||typeof n=="undefined"},function(n){var t=function(){function n(n,t){typeof t=="undefined"&&(t=!0),this.providedDate=n,this.preferAmericanFormat=t}return n.$VERSION=1.02,n.LZ=function(n){return(n<0||n>9?"":"0")+n},n.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],n.monthAbbreviations=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n.dayAbbreviations=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],n.isInteger=function(n){for(var t=0;t<n.length;t++)if("1234567890".indexOf(n.charAt(t))==-1)return!1;return!0},n.getInt=function(n,t,i,r){for(var f,u=r;u>=i;u--){if(f=n.substring(t,t+u),f.length<i)return null;if(this.isInteger(f))return f}return null},n.parseString=function(t,i,r){var nt,p,tt,d,l,o,g;if(typeof r=="undefined"&&(r=!0),typeof i=="undefined"||i==null||i==""){var it=["M/d/y","M-d-y","M.d.y","M/d","M-d"],rt=["d/M/y","d-M-y","d.M.y","d/M","d-M"],ut=[["y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d","MMM-d","d-MMM"],r?it:rt,r?rt:it];for(o=0;o<ut.length;o++)for(nt=ut[o],p=0;p<nt.length;p++)if(tt=this.parseString(t,nt[p]),tt!=null)return tt;return null}t=t+"",i=i+"";for(var f=0,y=0,ft="",u="",w,b,h=(new Date).getFullYear(),s=1,c=1,e=0,a=0,v=0,k="";y<i.length;){for(ft=i.charAt(y),u="";i.charAt(y)==ft&&y<i.length;)u+=i.charAt(y++);if(u=="yyyy"||u=="yy"||u=="y"){if(u=="yyyy"&&(w=4,b=4),u=="yy"&&(w=2,b=2),u=="y"&&(w=2,b=4),h=this.getInt(t,f,w,b),h==null)return null;f+=h.toString().length,h.toString().length==2&&(h=h>70?1900+ +h:2e3+ +h)}else if(u=="MMM"||u=="NNN"){for(s=0,l=u=="MMM"?n.monthNames.concat(n.monthAbbreviations):n.monthAbbreviations,o=0;o<l.length;o++)if(d=l[o],t.substring(f,f+d.length).toLowerCase()==d.toLowerCase()){s=o%12+1,f+=d.length;break}if(s<1||s>12)return null}else if(u=="EE"||u=="E"){for(l=u=="EE"?n.dayNames:n.dayAbbreviations,o=0;o<l.length;o++)if(g=l[o],t.substring(f,f+g.length).toLowerCase()==g.toLowerCase()){f+=g.length;break}}else if(u=="MM"||u=="M"){if(s=this.getInt(t,f,u.length,2),s==null||s<1||s>12)return null;f+=s.toString().length}else if(u=="dd"||u=="d"){if(c=this.getInt(t,f,u.length,2),c==null||c<1||c>31)return null;f+=c.toString().length}else if(u=="hh"||u=="h"){if(e=this.getInt(t,f,u.length,2),e==null||e<1||e>12)return null;f+=e.toString().length}else if(u=="HH"||u=="H"){if(e=this.getInt(t,f,u.length,2),e==null||e<0||e>23)return null;f+=e.toString().length}else if(u=="KK"||u=="K"){if(e=this.getInt(t,f,u.length,2),e==null||e<0||e>11)return null;f+=e.toString().length,e++}else if(u=="kk"||u=="k"){if(e=this.getInt(t,f,u.length,2),e==null||e<1||e>24)return null;f+=e.toString().length,e--}else if(u=="mm"||u=="m"){if(a=this.getInt(t,f,u.length,2),a==null||a<0||a>59)return null;f+=a.toString().length}else if(u=="ss"||u=="s"){if(v=this.getInt(t,f,u.length,2),v==null||v<0||v>59)return null;f+=v.toString().length}else if(u=="a"){if(t.substring(f,f+2).toLowerCase()=="am")k="AM";else if(t.substring(f,f+2).toLowerCase()=="pm")k="PM";else return null;f+=2}else{if(t.substring(f,f+u.length)!=u)return null;f+=u.length}}if(f!=t.length)return null;if(s==2)if(h%4==0&&h%100!=0||h%400==0){if(c>29)return null}else if(c>28)return null;return(s==4||s==6||s==9||s==11)&&c>30?null:(e<12&&k=="PM"?e=+e+12:e>11&&k=="AM"&&(e-=12),new Date(h,s-1,c,e,a,v))},n.isValid=function(t,i,r){return typeof r=="undefined"&&(r=!0),n.parseString(t,i,r)!=null},n.prototype.isBefore=function(n){return n==null?!1:this.providedDate.getTime()<n.getTime()},n.prototype.isAfter=function(n){return n==null?!1:this.providedDate.getTime()>n.getTime()},n.prototype.equals=function(n){return n==null?!1:this.providedDate.getTime()==n.getTime()},n}();n.Helper=t}(DateJs||(DateJs={}))